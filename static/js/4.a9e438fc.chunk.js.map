{"version":3,"sources":["components/landing/oauth.js"],"names":["Oauth","useState","dispatch","useDispatch","uiConfig","signInFlow","signInOptions","firebase","auth","GoogleAuthProvider","PROVIDER_ID","provider","PhoneAuthProvider","defaultCountry","callbacks","signInSuccessWithAuthResult","authResult","additionalUserInfo","isNewUser","type","payload","user","providerData","firebaseAuth","app"],"mappings":"oOAOe,SAASA,IAAS,IAAD,EACCC,oBAAS,GADV,mBAEtBC,GAFsB,UAEXC,eACjB,OACI,kBAAC,IAAD,CAAoBC,SAChB,CAEIC,WAAY,QAKZC,cAAe,CACbC,IAASC,KAAKC,mBAAmBC,YAEjC,CACEC,SAASJ,IAASC,KAAKI,kBAAkBF,YACzCG,eAAgB,OAMlBC,UAAW,CAETC,4BAA6B,SAACC,GAM1B,OALgBA,EAAWC,mBAAmBC,WAE1ChB,EAAS,CAACiB,KAAK,iBAAiBC,QAAQJ,EAAWK,KAAKC,aAAa,MAGlE,KAQrBC,aAAcC,IAAIhB","file":"static/js/4.a9e438fc.chunk.js","sourcesContent":["import React,{useState} from 'react'\r\nimport StyledFirebaseAuth from 'react-firebaseui/StyledFirebaseAuth';\r\nimport app from '../../firebase'\r\nimport uiConfig from '../../config/firebaseUi'\r\nimport {useDispatch} from 'react-redux'\r\nimport firebase from 'firebase'\r\n\r\nexport default function Oauth() {\r\n    const [newUser,setNewUser] = useState(false)\r\n    const dispatch = useDispatch()\r\n    return (\r\n        <StyledFirebaseAuth uiConfig={\r\n            {\r\n                // Popup signin flow rather than redirect flow.\r\n                signInFlow: 'popup',\r\n                \r\n                // Redirect to /signedIn after sign in is successful. Alternatively you can provide a callbacks.signInSuccess function.\r\n                // signInSuccessUrl: '/dashboard',\r\n                // We will display Google and Facebook as auth providers.\r\n                signInOptions: [\r\n                  firebase.auth.GoogleAuthProvider.PROVIDER_ID,\r\n                \r\n                  {\r\n                    provider:firebase.auth.PhoneAuthProvider.PROVIDER_ID,\r\n                    defaultCountry: '91',\r\n                  }\r\n                  \r\n                ],\r\n            \r\n                 \r\n                  callbacks: {\r\n                    // Avoid redirects after sign-in.\r\n                    signInSuccessWithAuthResult: (authResult)=>{\r\n                        const newUser = authResult.additionalUserInfo.isNewUser;\r\n                        if(newUser){\r\n                            dispatch({type:\"NEW_USER_LOGIN\",payload:authResult.user.providerData[0]})\r\n                            \r\n                        }\r\n                        return true;\r\n                    } \r\n                  }\r\n                  \r\n                }\r\n               \r\n\r\n\r\n        } firebaseAuth={app.auth()}/>\r\n    )\r\n}\r\n"],"sourceRoot":""}